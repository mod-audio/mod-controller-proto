#!/usr/bin/make -f
# Makefile for mod-controller-proto #
# --------------------------------- #
# Created by falkTX
#

CC  ?= gcc
CXX ?= g++

# ---------------------------------------------------------------------------------------------------------------------
# Set build and link flags

CFLAGS += -Wall -Wextra -Werror

# ---------------------------------------------------------------------------------------------------------------------

TARGETS = include_ usage

# ---------------------------------------------------------------------------------------------------------------------

all: build

build: $(TARGETS)

clean:
	rm -f $(TARGETS)

# ---------------------------------------------------------------------------------------------------------------------

include_: include.c ../mod-protocol.h
	$(CC) $(CFLAGS) $< -o $@

usage: usage.c ../mod-protocol.h
	$(CC) $(CFLAGS) $< -o $@

# ---------------------------------------------------------------------------------------------------------------------

usage.c: ../mod-protocol.h ../scripts/generate-usage.c.py
	../scripts/generate-usage.c.py $(CURDIR)/$< $(CURDIR)/$@

# ---------------------------------------------------------------------------------------------------------------------
